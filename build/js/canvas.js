!function(){function s(){k.length=0,m.length=0,n.length=0,l.length=0;var a=new t(0,0,0,e.baseSize);for(a.step=t.rootStep,k.push(a),n.push(a),a.link();l.length>0;)l[0].link(),l.shift();q||(q=!0,w())}function t(a,b,c,d){this.x=a,this.y=b,this.z=c,this.size=d,this.screen={},this.links=[],this.probabilities=[],this.isEnd=!1,this.glowSpeed=e.baseGlowSpeed+e.addedGlowSpeed*Math.random()}function u(a){this.glowSpeed=e.baseGlowSpeed+e.addedGlowSpeed*Math.random(),this.speed=e.baseSpeed+e.addedSpeed*Math.random(),this.screen={},this.setConnection(a)}function v(a,b){var c=b.x-a.x,d=b.y-a.y,e=b.z-a.z;return c*c+d*d+e*e}function w(){var c,f,g;window.requestAnimationFrame(w),d.globalCompositeOperation="source-over",d.fillStyle=e.repaintColor,d.fillRect(0,0,a,b),++o,c=o*e.rotVelX,f=o*e.rotVelY,j=Math.cos(c),i=Math.sin(c),cosY=Math.cos(f),sinY=Math.sin(f),m.length<k.length*e.dataToConnections&&(g=new u(k[0]),m.push(g),n.push(g)),d.globalCompositeOperation="lighter",d.beginPath(),d.lineWidth=e.wireframeWidth,d.strokeStyle=e.wireframeColor,n.map(function(a){a.step()}),d.stroke(),d.globalCompositeOperation="source-over",n.sort(function(a,b){return b.screen.z-a.screen.z}),n.map(function(a){a.draw()})}var a=c.width=window.innerWidth,b=c.height=window.innerHeight,d=c.getContext("2d"),e={range:180,baseConnections:3,addedConnections:5,baseSize:5,minSize:1,dataToConnectionSize:.4,sizeMultiplier:.7,allowedDist:40,baseDist:40,addedDist:30,connectionAttempts:100,dataToConnections:1,baseSpeed:.04,addedSpeed:.05,baseGlowSpeed:.4,addedGlowSpeed:.4,rotVelX:.003,rotVelY:.002,repaintColor:"#fff",connectionColor:"hsla(200,60%,light%,alp)",rootColor:"hsla(0,60%,light%,alp)",endColor:"hsla(160,20%,light%,alp)",dataColor:"hsla(40,80%,light%,alp)",wireframeWidth:.2,wireframeColor:"#000",depth:250,focalLength:250,vanishPoint:{x:a/2,y:b/2}},f=e.range*e.range,g=e.allowedDist*e.allowedDist,h=e.depth+e.range,i=sinY=0,j=cosY=0,k=[],l=[],m=[],n=[],o=0,q=!1,r=2*Math.PI;d.fillStyle="#222",d.fillRect(0,0,a,b),d.fillStyle="#ccc",d.font="50px Verdana",d.fillText("Calculating Nodes",a/2-d.measureText("Calculating Nodes").width/2,b/2-15),window.setTimeout(s,4),t.prototype.link=function(){var d,h,i,j,m,o,p,s,u,a,b,c,q,w,x;if(this.size<e.minSize)return this.isEnd=!0;for(a=[],b=0|e.baseConnections+Math.random()*e.addedConnections,c=e.connectionAttempts,q={};a.length<b&&--c>0;)if(d=Math.random()*Math.PI,h=Math.random()*r,i=e.baseDist+e.addedDist*Math.random(),j=Math.cos(d),m=Math.sin(d),o=Math.cos(h),p=Math.sin(h),q.x=this.x+i*j*p,q.y=this.y+i*m*p,q.z=this.z+i*o,q.x*q.x+q.y*q.y+q.z*q.z<f){for(s=!0,u=!0,w=0;w<k.length;++w)v(q,k[w])<g&&(s=!1);if(s)for(w=0;w<a.length;++w)v(q,a[w])<g&&(u=!1);s&&u&&a.push({x:q.x,y:q.y,z:q.z})}if(0===a.length)this.isEnd=!0;else{for(w=0;w<a.length;++w)q=a[w],x=new t(q.x,q.y,q.z,this.size*e.sizeMultiplier),this.links[w]=x,n.push(x),k.push(x);for(w=0;w<this.links.length;++w)l.push(this.links[w])}},t.prototype.step=function(){this.setScreen(),this.screen.color=(this.isEnd?e.endColor:e.connectionColor).replace("light",30+o*this.glowSpeed%30).replace("alp",.2+.8*(1-this.screen.z/h));for(var a=0;a<this.links.length;++a)d.moveTo(this.screen.x,this.screen.y),d.lineTo(this.links[a].screen.x,this.links[a].screen.y)},t.rootStep=function(){this.setScreen(),this.screen.color=e.rootColor.replace("light",30+o*this.glowSpeed%30).replace("alp",.8*(1-this.screen.z/h));for(var a=0;a<this.links.length;++a)d.moveTo(this.screen.x,this.screen.y),d.lineTo(this.links[a].screen.x,this.links[a].screen.y)},t.prototype.draw=function(){d.fillStyle=this.screen.color,d.beginPath(),d.arc(this.screen.x,this.screen.y,this.screen.scale*this.size,0,r),d.fill()},u.prototype.reset=function(){this.setConnection(k[0]),this.ended=2},u.prototype.step=function(){this.proportion+=this.speed,this.proportion<1?(this.x=this.ox+this.dx*this.proportion,this.y=this.oy+this.dy*this.proportion,this.z=this.oz+this.dz*this.proportion,this.size=(this.os+this.ds*this.proportion)*e.dataToConnectionSize):this.setConnection(this.nextConnection),this.screen.lastX=this.screen.x,this.screen.lastY=this.screen.y,this.setScreen(),this.screen.color=e.dataColor.replace("light",40+o*this.glowSpeed%50).replace("alp",.2+.6*(1-this.screen.z/h))},u.prototype.draw=function(){return this.ended?--this.ended:(d.beginPath(),d.strokeStyle=this.screen.color,d.lineWidth=this.size*this.screen.scale,d.moveTo(this.screen.lastX,this.screen.lastY),d.lineTo(this.screen.x,this.screen.y),d.stroke(),void 0)},u.prototype.setConnection=function(a){a.isEnd?this.reset():(this.connection=a,this.nextConnection=a.links[0|a.links.length*Math.random()],this.ox=a.x,this.oy=a.y,this.oz=a.z,this.os=a.size,this.nx=this.nextConnection.x,this.ny=this.nextConnection.y,this.nz=this.nextConnection.z,this.ns=this.nextConnection.size,this.dx=this.nx-this.ox,this.dy=this.ny-this.oy,this.dz=this.nz-this.oz,this.ds=this.ns-this.os,this.proportion=0)},t.prototype.setScreen=u.prototype.setScreen=function(){var f,a=this.x,b=this.y,c=this.z,d=b;b=b*j-c*i,c=c*j+d*i,f=c,c=c*cosY-a*sinY,a=a*cosY+f*sinY,this.screen.z=c,c+=e.depth,this.screen.scale=e.focalLength/c,this.screen.x=e.vanishPoint.x+a*this.screen.scale,this.screen.y=e.vanishPoint.y+b*this.screen.scale},window.addEventListener("resize",function(){e.vanishPoint.x=(a=c.width=window.innerWidth)/2,e.vanishPoint.y=(b=c.height=window.innerHeight)/2,d.fillRect(0,0,a,b)})}();