!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){var b=a(window);a.fn.lazyload=function(c){function g(){var b=0;d.each(function(){var c=a(this);if(!f.skip_invisible||c.is(":visible"))if(a.abovethetop(this,f)||a.leftofbegin(this,f));else if(a.belowthefold(this,f)||a.rightoffold(this,f)){if(++b>f.failure_limit)return!1}else c.trigger("appear"),b=0})}var e,d=this,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return c&&(void 0!==c.failurelimit&&(c.failure_limit=c.failurelimit,delete c.failurelimit),void 0!==c.effectspeed&&(c.effect_speed=c.effectspeed,delete c.effectspeed),a.extend(f,c)),e=void 0===f.container||f.container===window?b:a(f.container),0===f.event.indexOf("scroll")&&e.bind(f.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(void 0===c.attr("src")||c.attr("src")===!1)&&c.is("img")&&c.attr("src",f.placeholder),c.one("appear",function(){if(!this.loaded){if(f.appear){var e=d.length;f.appear.call(b,e,f)}a("<img />").bind("load",function(){var g,h,e=c.attr("data-"+f.data_attribute);c.hide(),c.is("img")?c.attr("src",e):c.css("background-image","url('"+e+"')"),c[f.effect](f.effect_speed),b.loaded=!0,g=a.grep(d,function(a){return!a.loaded}),d=a(g),f.load&&(h=d.length,f.load.call(b,h,f))}).attr("src",c.attr("data-"+f.data_attribute))}}),0!==f.event.indexOf("scroll")&&c.bind(f.event,function(){b.loaded||c.trigger("appear")})}),b.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&b.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&d.each(function(){a(this).trigger("appear")})}),a(document).ready(function(){g()}),this},a.belowthefold=function(c,d){var e;return e=void 0===d.container||d.container===window?(window.innerHeight?window.innerHeight:b.height())+b.scrollTop():a(d.container).offset().top+a(d.container).height(),e<=a(c).offset().top-d.threshold},a.rightoffold=function(c,d){var e;return e=void 0===d.container||d.container===window?b.width()+b.scrollLeft():a(d.container).offset().left+a(d.container).width(),e<=a(c).offset().left-d.threshold},a.abovethetop=function(c,d){var e;return e=void 0===d.container||d.container===window?b.scrollTop():a(d.container).offset().top,e>=a(c).offset().top+d.threshold+a(c).height()},a.leftofbegin=function(c,d){var e;return e=void 0===d.container||d.container===window?b.scrollLeft():a(d.container).offset().left,e>=a(c).offset().left+d.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})});
